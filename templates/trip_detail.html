{% extends "base.html" %}
{% block content %}
<h3>{{ trip.title }}</h3>
<p>{{ trip.description }}</p>

<hr>
<h5>Comments</h5>
{% if session.get('user_id') %}
<form method="post" class="mb-3">
  <textarea name="comment" class="form-control mb-2" placeholder="Write a comment..." required></textarea>
  <button class="btn btn-accent btn-sm">Post Comment</button>
</form>
{% else %}
<p><a href="{{ url_for('login') }}">Login</a> to post comments.</p>
{% endif %}

<div class="mt-3">
  {% for c in comments %}
  <div class="border rounded p-2 mb-2">
    <strong>{{ c.username }}</strong> <small class="text-muted">{{ c.created_at }}</small>
    <p class="mb-0">{{ c.comment }}</p>
  </div>
  {% endfor %}
</div>
{% endblock %}
